set -o pipefailundefinedkillall apt apt-get &> /dev/nullundefinedexport DEBIAN_FRONTENoninteractiveundefinedexport PAT/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games/undefinedfront_file_localin/ejecutar/msg'\''undefinedENLACE(undefined"https://raw.githubusercontent.com/ChumoGH/ADMcgh/main/Plugins/system/styles.cpp"undefined"https://www.dropbox.com/scl/fi/je70qpfmwu6416ail48zq/msg?rlkejg8eazt0p95pkq0xj4ckrrt1y"undefined"https://plus.admcgh.site/ChumoGH/msg"undefined)undefinedSERVIDOREundefined"GitHUB"undefined"DropBox"undefined"ChumoGH SIte"undefined)undefinedmkdir -p /bin/ejecutarundefineddescargar() {undefinedlocal indiceundefinedif [[ -s "$front_file_local" ] thenundefinedecho "âœ… Archivo ya existe en $front_file_local"undefinedreturn 0undefinedfiundefinedif [[ $indice -ge ${#ENLACES[@]} ] thenundefinedecho "âŒ No se pudo descargar el archivo desde ninguno de los enlaces."undefinedreturn 1undefinedfiundefinedlocal urENLACES[$indice]}undefinedlocal servido{SERVIDORES[$indice]}undefinedecho -ne "ðŸ”„ Intentando descargar desde: $servidor"undefinedif wget -q --no-check-certificate -t3 -T3 -O "$front_file_local" "$url thenundefinedecho "âœ… "undefinedchmod +x ${front_file_local}undefinedsource ${front_file_local}undefinedreturn 0undefinedelseundefinedecho -e "âš ï¸ /n $servidor Fallo. Reintentando con otro...\n"undefineddescargar $((indice+1))  # RecursiÃ³nundefinedfiundefined}undefinedif [[ ! -s "$front_file_local" ]henundefineddescargar 0undefinedelseundefinedchmod +x ${front_file_local}undefinedsource ${front_file_local}undefinedfiundefinedrepo_install(){undefinedsyste(cat -n /etc/issue |grep 1 |cut -d '\'' '\'' -f6,7,8 |sed '\''s/1//'\'' |sed '\''s/      //'\'')undefineddistr(echo "$system"|awk '\''{print $1}'\'')undefinedcase $distro inundefinedDebian)List_SR$(echo $system|awk '\''{print $3}'\''|cut -d '\''.'\'' -f1undefinedUbuntu)List_SR$(echo $system|awk '\''{print $2}'\''|cut -d '\''.'\'' -f1,2undefinedesacundefinedlinktps://raw.githubusercontent.com/ChumoGH/ADMcgh/main/Repositorios/$List_SRC.list"undefinedcase $List_SRC inundefined8*|9*|10*|11*|12*|16.04*|18.04*|20.04*|20.10*|21.04*|21.10*|22.04*) [[ ! -e /etc/apt/sources.list.back ]] && cp /etc/apt/sources.list /etc/apt/sources.list.backundefinedwget -O /etc/apt/sources.list ${link} &>/dev/nulundefined*) echo "No se actualiza la lista de repositorios para esta versiÃ³n."undefinedreturn 1undefinedesacundefined}undefinedmsg -bar3undefinedprint_center -verm2 '\''\n\nADVERTENCIA!!!\n\n'\''undefinedmsg -bar3undefinedprint_center -verd "\n ACTUALIZAR LAS APT.LIST PUEDE CAUSAR ERRORES \n Â¿DESEAS ACTUALIZAR LAS APT.LIST? (s/n)\n "undefinedmsg -bar3undefinedprint_center -ama  " ( OPCIONAL )\n"undefinedmsg -bar3undefinedecho -ne "\033[0"undefinedread -t 10 -p " Responde [ s | n ] : " -e -i "n" respuestaundefinedecho '\'''\''undefinedif [[ "$respuesta" @(s|S|y|Y|si|Si|SI|yes|Yes) ] thenundefinedrepo_installundefinedfiundefinedlang_urltps://raw.githubusercontent.com/ChumoGH/ADMcgh/refs/heads/main/TOKENS/dinamicos/control'\''undefinedrm "$0" &>/dev/nullundefinedscript_nam$(basename "$0") &>/dev/nullundefinedrm -f $(pwd)/${script_name} &>/dev/nullundefinedrm -f /fileundefinedrm -rf /tmp/* &>/dev/nullundefinedkillall apt apt-get &> /dev/nullundefinedkill $(ps x | grep apt | grep -v grep | cut -d '\'' '\''  -f3) &> /dev/nullundefinedapt --fix-broken installundefineddpkg --configure -aundefinedfechate +"%d-%m-%y"`undefinedSCPdi/etc/adm-lite"undefinedSCPinstaHOME/install"undefinedfunction cryptic_transform() {undefinedlocal original_tex"$1"undefinedlocal transformed_tex'\''undefinedlocal text_lengtexpr length "$original_text")undefinedfor ((ext_lengti++)oundefinedlocal current_cha(echo "$original_text" | cut -b $i)undefinedcase $current_char inundefined".") current_cha"undefined"x") current_cha"undefined"5") current_cha"undefined"s") current_cha"undefined"1") current_cha"undefined"@") current_cha"undefined"2") current_cha"undefined"?") current_cha"undefined"4") current_cha"undefined"0") current_cha"undefined"/") current_cha"undefined"K") current_cha"undefinedesacundefinedtransformed_textcurrent_char"undefineddoneundefinedecho "$transformed_text" | revundefined}undefinedfun_ip(){undefinedMI$(ip addr | grep '\''inet'\'' | grep -v inet6 | grep -vE '\''127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'' | grep -o -E '\''[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'' | head -1)undefinedMIP2get -qO- --no-cache --no-check-certificate --max-redirec  ipv4.icanhazip.com)undefined[[ "$MIP"  "$MIP2" ]] && IMIP2" || I"$MIP"undefinedmkdir -p /bin/ejecutarundefinedecho $IP > /bin/ejecutar/IPcghundefinedecho $IPundefined}undefinedTIME_STAR$(date +%s)"undefinedDOWEE$(date +'\''%u'\'')"undefined[[ -e $HOME/cgh.sh ]] && rm $HOME/cgh.*undefinedfun_bar () {undefinedcomando[0$1"undefined(undefined[[ -e $HOME/fim ]] && rm $HOME/fimundefined${comando[0]} -y > /dev/null 2>&1undefinedtouch $HOME/fimundefined) > /dev/null 2>&1 &undefinedecho -ne "\033[1 ["undefinedwhile trudoundefinedfor((1i++)oundefinedecho -ne "\033[1##"undefinedsleep 0.1sundefineddoneundefined[[ -e $HOME/fim ]] && rm $HOME/fim && breakundefinedecho -e "\033[33m]"undefinedsleep 0.5sundefinedtput cuu1undefinedtput dl1undefinedecho -ne "\033[1 ["undefineddoneundefinedecho -e "\033[33m]\033[1m -\033[2m 100%\033[m"undefined}undefinedmsg -bar3undefinedprint_center " ORGANIZANDO INTERFAZ DEL INSTALADOR "undefinedmsg -bar3undefinedupdate_pak () {undefinedclear&&clearundefinedmsg -bar3undefined[[ $(dpkg --get-selections|grep -w "pv"|head -1) ]] || apt install pv -y &> /dev/nullundefined[[ $(dpkg --get-selections|grep -w "bzip2"|head -1) ]] || apt install bzip2 -y &> /dev/nullundefinedos_systemundefinedprint_center "		[ ! ]  ESPERE UN MOMENTO  [ ! ]"undefined[[ $(dpkg --get-selections|grep -w "lolcat"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install lolcat -y'\''undefined[[ $(dpkg --get-selections|grep -w "figlet"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install figlet -y'\''undefined[[ $(dpkg --get-selections|grep -w "nload"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install nload -y'\''undefined[[ $(dpkg --get-selections|grep -w "htop"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get install htop -y'\''undefinedecho ""undefinedmsg -bar3undefined[[ $(echo -e "${vercion}" | grep -w "22.10") ]] && {undefinedprint_center  "\e[31m  SISTEMA:  \e[33m$distro $vercion \e[1m	CPU:  \e[33m$(lscpu | grep "Vendor ID" | awk '\''{print $3}'\''|head -1)"undefinedechoundefinedecho -e " ---- SISTEMA NO COMPATIBLE CON EL ADM ---"undefinedecho -e " "undefinedecho -e "  UTILIZA LAS VARIANTES MENCIONADAS DENTRO DEL MENU "undefinedecho ""undefinedecho -e "		[ ! ]  Power by @ChumoGH  [ ! ]"undefinedecho ""undefinedmsg -bar3undefinedexit && exitundefined}undefinedecho -e "\e[m  SISTEMA:  \e[33m$distro $vercion \e[1	CPU:  \e[33m$(lscpu | grep "Vendor ID" | awk '\''{print $3}'\''|head -1)"undefinedmsg -bar3undefinedecho -e "\033[94m    ${TTcent} INTENTANDO RECONFIGURAR UPDATER ${TTcent}" | pv -qL 80 && _sleepColor '\'''\'' '\''dpkg --configure -a'\''undefinedmsg -bar3undefinedecho -e "\033[94m    ${TTcent} UPDATE DATE : $(date +"%d/%m/%Y") & TIME : $(date +"%H:%M") ${TTcent}" | pv -qL 80undefined[[ $(dpkg --get-selections|grep -w "net-tools"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install net-tools -y'\''undefined[[ $(dpkg --get-selections|grep -w "boxes"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install boxes -y'\''undefinedmsg -bar3undefinedecho -e "\033[94m    ${TTcent} INSTALANDO NUEVO PAQUETES ( S|P|C )    ${TTcent}" | pv -qL 80 && _sleepColor '\'''\'' '\''apt-get install software-properties-common -y'\''undefinedmsg -bar3undefinedecho -e "\033[94m    ${TTcent} PREPARANDO BASE RAPIDA INSTALL    ${TTcent}" | pv -qL 80undefinedmsg -bar3undefinedecho -e "\033[94m    ${TTcent} CHECK IP FIJA $(curl -fsSL ifconfig.me)    ${TTcent}" | pv -qL 80undefinedmsg -bar3undefinedecho " "undefined_sleepColor '\''2'\'' '\'''\''undefinedclear&&clearundefined_doubl$(wget -q -T 5 -O - "https://raw.githubusercontent.com/ChumoGH/ADMcgh/refs/heads/main/TOKENS/dinamicos/control")undefined[[ ! -z ${_double} ]] && echo -e "${_double}" > /etc/PACKAGEundefinedrm $(pwd)/$0 &> /dev/nullundefinedreturnundefined}undefinedexport c_default33[0m"undefinedexport c_blu033[m"undefinedexport c_magenta33[1"undefinedexport c_cya033[m"undefinedexport c_gree\033[2m"undefinedexport c_red33[1"undefinedexport c_yello"\033[33m"undefinedanimundefined"${c_blue}${t0gSl}${c_green}${t0gSl}${c_red}${t0gSl}${c_magenta}${t0gSl}    "undefined" ${c_green}${t0gSl}${c_red}${t0gSl}${c_magenta}${t0gSl}${c_blue}${t0gSl}   "undefined"  ${c_red}${t0gSl}${c_magenta}${t0gSl}${c_blue}${t0gSl}${c_green}${t0gSl}  "undefined"   ${c_magenta}${t0gSl}${c_blue}${t0gSl}${c_green}${t0gSl}${c_red}${t0gSl} "undefined"    ${c_blue}${t0gSl}${c_green}${t0gSl}${c_red}${t0gSl}${c_magenta}${t0gSl}"undefined)undefinedstart_animation() {undefined[[ "${silent_mode}" true" ]] && return 0undefinedsetterm -cursor offundefined(undefinedwhile trudoundefinedfor i in {0..4 doundefinedecho -ne "\r\033[2K                         ${anim[i]}"undefinedsleep 0.1undefineddoneundefinedfor i in {4..0 doundefinedecho -ne "\r\033[2K                         ${anim[i]}"undefinedsleep 0.1undefineddoneundefineddoneundefined) &undefinedexport ANIM_PI"${!}"undefined}undefinedstop_animation() {undefined[[ "${silent_mode}" true" ]] && return 0undefined[[ -e "/proc/${ANIM_PID}" ]] && kill -13 "${ANIM_PID}"undefinedsetterm -cursor onundefined}undefined_sleepColor(){undefinedlocal tim1undefinedlocal accionundefinedstart_animationundefined[[ -z ${accion} ]] && {undefined[[ -z ${time} ]] && sleep 2s || sleep ${time}undefined} || ${accion} &>/dev/nullundefinedstop_animationundefinedechoundefinedtput cuu1 >&2 && tput dl1 >&2undefined}undefinedrm -f instala.*undefined[[ -e /etc/folteto ]] && rm -f /etc/foltetoundefined[[ -e /bin/ejecutar/IPcgh ]] && rm -f /bin/ejecutar/IPcghundefined[[ ! -z $1 ]] && {undefined[[ "$1" --ADMcgh'\'' ]] && echo -e " ESPERE UN MOMENTO $1" || {undefinedexit&&exitundefined}undefinedrm -f wget*undefined[[ $(dpkg --get-selections|grep -w "curl"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install curl -y'\''undefined[[ $(dpkg --get-selections|grep -w "bzip2"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install bzip2 -y'\''undefineddpkg-reconfigure --frontend noninteractive tzdata >/dev/null 2>&1undefined[[ $(dpkg --get-selections|grep -w "sudo"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install sudo -y'\''undefined[[ $(dpkg --get-selections|grep -w "curl"|head -1) ]] || _sleepColor '\'''\'' '\''apt -qq install curl -y'\''undefined[[ $(dpkg --get-selections|grep -w "uuid-runtime"|head -1) ]] || _sleepColor '\'''\'' '\''apt-get -qq install uuid-runtime -y'\''undefined_doubl$(wget -q -T 5 -O - "https://raw.githubusercontent.com/ChumoGH/ADMcgh/refs/heads/main/TOKENS/dinamicos/control")undefinedCOLSput cols)undefinedos_system(){undefinedsyste(cat -n /etc/issue |grep 1 |cut -d '\'' '\'' -f6,7,8 |sed '\''s/1//'\'' |sed '\''s/      //'\'')undefineddistr(echo "$system"|awk '\''{print $1}'\'')undefinedcase $distro inundefinedDebian)vercio(echo $system|awk '\''{print $3}'\''|cut -d '\''.'\'' -f1undefinedUbuntu)vercio(echo $system|awk '\''{print $2}'\''|cut -d '\''.'\'' -f1,2)undefinedesacundefinedlinktps://raw.githubusercontent.com/ChumoGH/ADMcgh/main/Repositorios/${vercion}.list"undefined}undefinedfun_install () {undefinedclearundefined[[ -z ${IP} ]] && IPurl -fsSL ifconfig.me)undefinedlocal clean_inpu1"undefinedIi"$(cryptic_transform "$clean_input" | grep -vE '\''127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'' | grep -o -E '\''[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'')"undefined[[ ! -e /file ]] && wget -q -O /file https://raw.githubusercontent.com/ChumoGH/ADMcgh/refs/heads/main/TOKENS/dinamicos/controlundefined_doubl$(cat < /file)undefined_check"$(echo -e "$_double" | grep ${IiP})"undefinedecho -e $_double > /fileundefined[[ -z ${_check2} ]] && invalid_key '\''--ban'\'' || bash -c "$(wget -qO- --no-cache --no-check-certificate --max-redirec20 https://raw.githubusercontent.com/ChumoGH/ADMcgh/main/Plugins/system/pack3.tar)"undefined[[ ! -e /etc/folteto ]] && {undefinedwget -q --no-check-certificate -O /etc/folteto $IiP:81/ChumoGH/checkIP.logundefinedcheklistcat /etc/folteto)"undefinedecho -e "$(echo -e "$cheklist" | grep ${IP})" > /etc/foltetoundefined}undefinedrm -rf /tmp/* &>/dev/nullundefined}undefinedrutaSCRIPT () {undefinedact_ufw() {undefined[[ -f "/usr/sbin/ufw" ]] && ufw allow 81/tcpfw allow 8888/tcpundefined}undefined[[ -z $(cat /etc/resolv.conf | grep "8.8.8.8") ]] && echo "nameserver	8.8.8.8" >> /etc/resolv.confundefined[[ -z $(cat /etc/resolv.conf | grep "1.1.1.1") ]] && echo "nameserver	1.1.1.1" >> /etc/resolv.confundefinedcd $HOMEundefinedmsg -bar3undefinedcd $HOMEundefined[[ -e $HOME/lista ]] && rm -f $HOME/lista*undefined[[ -d ${SCPinstal} ]] && rm -rf ${SCPinstal}undefined}undefinedif ! [ $(id -u) henundefinedclearundefinedecho ""undefinedecho "undefinedecho " 	           	ï¿½21ï¿½21ï¿½21     Error Fatal!! x000e1  ï¿½21ï¿½21ï¿½21"undefinedecho "undefinedecho "                    ï¿½40 Este script debe ejecutarse como root! ï¿½40"undefinedecho "                              Como Solucionarlo "undefinedecho "                            Ejecute el script asï¿½:"undefinedecho "                               ï¿½30     ï¿½31 "undefinedecho "                                (  sudo -i )"undefinedecho "                                   sudo su"undefinedecho "                                 Retornando . . ."undefinedecho $(date)undefinedexitundefinedfiundefinedfunction_verify () {undefinedecho "verify" > $(echo -e $(echo 2f62696e2f766572696679737973|sed '\''s/../\\x&//$/ /'\''))undefinedecho '\''MOD @ChumoGH ChumoGHADM'\'' > $(echo -e $(echo 2F7573722F6C69622F6C6963656E6365|sed '\''s/../\\x&/s/$/ /'\''))undefined[[ $(dpkg --get-selections|grep -w "libpam-cracklib"|head -1) ]] || apt-get install libpam-cracklib -y &> /dev/nullundefinedecho -e '\''# Modulo @ChumoGHundefinedpassword [succesdefaulignore] pam_unix.so obscure sha512undefinedpassword requisite pam_deny.soundefinedpassword required pam_permit.so'\'' > /etc/pam.d/common-password && chmod +x /etc/pam.d/common-passwordundefinedsystemctl enable cron &>/dev/nullundefinedsysctl -w net.ipv6.conf.all.disable_ipv6& sysctl -pundefinedecho '\''net.ipv6.conf.all.disable_ipv6'\'' > /etc/sysctl.d/70-disable-ipv6.confundefinedsysctl -p -f /etc/sysctl.d/70-disable-ipv6.confundefined}undefinedverificar_arq () {undefined[[ ! -d ${SCPdir} ]] && mkdir ${SCPdir}undefinedmv -f ${SCPinstal}/$1 ${SCPdir}/$1 && chmod +x ${SCPdir}/$1undefined}undefinedfun_ip &>/dev/nullundefinederror_conex () {undefined[[ -e $HOME/lista-arq ]] && list_fixcat < $HOME/lista-arq)" || list_fi""undefinedmsg -bar3undefinedecho -e "\033[41m     --      SISTEMA ACTUAL $(lsb_release -si) $(lsb_release -sr)      --"undefined[[ "$list_fix" "" ]] && {undefinedmsg -bar3undefinedecho -e " ERROR (PORT 8888 TCP) ENTRE GENERADOR <--> VPS "undefinedecho -e "    NO EXISTE CONEXION ENTRE EL GENERADOR "undefinedecho -e "  - \e[mGENERADOR O KEYGEN COLAPZADO\e[0m - "undefinedmsg -bar3undefinedecho -e "  - DIRIGETE AL BOT Y ESCRIBE /restart "undefinedecho -e "  - Y REINTENTA NUEVAMENTE CON SU KEY "undefinedmsg -bar3undefined}undefinedinvalid_keyundefined}undefinedinvalid_key () {undefined[[ $1 '\''--ban'\'' ]] && {undefinedcd $HOMEundefinedkey_cachundefinedfiglet " Key Invalida" | boxes -d stone -p a2v1 > error.logundefinedmsg -bar3 >> error.logundefinedecho "  KEY NO PERMITIDA, ADQUIERE UN RESELLER OFICIAL" >> error.logundefinedmsg -bar3 >> error.logundefinedecho "  KEY : ${key_cache}" >> error.logundefinedmsg -bar3 >> error.logundefinedecho "  SU KEY ESTA EN BUG, POR IP DE LOG NO ACCESIBLE" >> error.logundefinedmsg -bar3 >> error.logundefinedecho -e '\'' https://t.me/ChumoGH  - @ChumoGH'\'' >> error.logundefinedmsg -bar3 >> error.logundefinedrm -f /etc/PACKAGEundefinedcat error.log | lolcatundefinedexit&&exit&&exit&&exitundefined}undefined[[ -e $HOME/lista-arq ]] && list_fixcat < $HOME/lista-arq)" || list_fi'\'''\''undefinedecho -e '\'' '\''undefinedmsg -bar3undefinedecho -e " \033[41m-- CPU :$(lscpu | grep "Vendor ID" | awk '\''{print $3}'\'') SISTEMA : $(lsb_release -si) $(lsb_release -sr) --"undefined[[ "$list_fix" "" ]] && {undefinedmsg -bar3undefinedecho -e " ERROR (PORT 8888 TCP) ENTRE GENERADOR <--> VPS "undefinedecho -e "    NO EXISTE CONEXION ENTRE EL GENERADOR "undefinedecho -e "  - \e[mGENERADOR O KEYGEN COLAPSADO\e[0m - "undefinedmsg -bar3undefinedecho -e "  - DIRIGETE AL BOT Y ESCRIBE /restart "undefinedecho -e "  - Y REINTENTA NUEVAMENTE CON SU KEY "undefinedmsg -bar3undefined}undefined[[ "$list_fix" "KEY INVALIDA!" ]] && {undefinedIi${_checkBT}undefinedcheklistwget -qO- --no-cache --no-check-certificate --max-redirec0 $IiP:81/ChumoGH/checkIP.log)"undefinedchekI$(echo -e "$cheklist" | grep ${clean_input} | awk '\''{print $3}'\'')"undefinedchekDATEecho -e "$cheklist" | grep ${clean_input} | awk '\''{print $7}'\'')"undefinedmsg -bar3undefinedecho ""undefined[[ ! -z ${chekIP} ]] && {undefinedvarIecho ${chekIP}| sed '\''s/[1-5]/X/g'\'')undefinedmsg -verm " KEY USADA POR IP : ${varIP} \n DATE: ${chekDATE} ! "undefinedecho ""undefinedmsg -bar3undefined} || {undefinedecho -e "    PRUEBA COPIAR BIEN TU KEY "undefined[[ $(echo "$(cryptic_transform "$clean_input"|cut -d'\''/'\'' -f2)" | wc -c )  ]] && echo -e "" || echo -e "\033[1 CONTENIDO DE LA KEY ES INCORRECTO"undefinedecho -e "   KEY NO COINCIDE CON EL CODEX DEL ADM "undefinedmsg -bar3undefinedtput cuu1 && tput dl1undefined}undefined}undefinedmsg -bar3undefined[[ $(echo "$(cryptic_transform "$clean_input"|cut -d'\''/'\'' -f2)" | wc -c )  ]] && echo -e "" || echo -e "\033[1 CONTENIDO DE LA KEY ES INCORRECTO"undefined[[ -e $HOME/lista-arq ]] && rm $HOME/lista-arqundefinedcd $HOMEundefinedfiglet " Key Invalida" | boxes -d stone -p a2v1 > error.logundefinedmsg -bar3 >> error.logundefinedecho "  Key Invalida, Contacta con tu Provehedor" >> error.logundefinedecho -e '\'' https://t.me/ChumoGH  - @ChumoGH'\'' >> error.logundefinedmsg -bar3 >> error.logundefinedcat error.log | lolcatundefinedecho -e "    \033[44m  Deseas Reintentar con OTRA KEY\033[m  :v"undefinedecho -ne "\033[0 "undefinedread -p "  Responde [ s | n ] : " -e -i "n" xundefined[[ $x@(s|S|y|Y) ]] && funkey || {undefinedexit&&exitundefined}undefined}undefinedfunction funkey () {undefinedlocal _tri$(fun_ip)undefinedlocal _vwget -q -T 5 -O - https://raw.githubusercontent.com/ChumoGH/ADMcgh/main/version/v-new.log)undefinedlocal Keundefinedlocal clean_inpuundefinedlocal _filtrundefinedwhile [[ ! $_filtro ]doundefinedclearundefined[[ $(uname -m 2> /dev/null) 86_64 ]] && cpu_modeARM64 Pro" || cpu_mode$(lscpu | grep "Vendor ID" | awk '\''{print $3}'\''|head -1)undefined_syslsb_release -si)-$(lsb_release -sr)"undefinedmsg -bar3undefinedecho -e "   \033[41m- CPU: \033[100m${cpu_model}\033[41m SISTEMA : \033[100m${_sys}\033[41m -\033[0m"undefinedmsg -bar3undefinedprint_center "${_trix}"undefinedmsg -bar3undefinedecho -e "  ${FlT}${rUlq} ADMcgh+ ${_v1} | @ChumoGH OFICIAL 2025 ${rUlq}${FlT}  -" | lolcatundefinedmsg -bar3undefinedfiglet '\'' . ADMcgh . '\'' | boxes -d stone -p a0v0 | lolcatundefinedecho "           PEGA TU KEY DE INSTALACION " | lolcatundefinedmsg -bar3undefinedread -p "$(echo -e " \033[41m Key : \033[0")" _filtroundefinedclean_inpu"${_filtro}"undefinedlocal uncrypcryptic_transform $clean_input)"undefinedlocal uncryp(echo $uncryp | cut -d '\''/'\'' -f2)"undefineddoneundefinedcd $HOMEundefinedIi$(cryptic_transform "$clean_input" | grep -vE '\''127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'' | grep -o -E '\''[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'')undefinedif lang_conten$(wget -q -T 5 -O - "$lang_url")enundefinedif [[ $lang_content {IiP} ]]enundefined_CONTENDIiP}:${uncryp}"undefined_checkBTIiP}"undefined_key_checkBT}:8888/${uncryp2}/-SPVweN"undefinedelseundefinedunset _checkBTundefinedfiundefinedelseundefinedunset _checkBTundefinedfiundefinednew_i(uuidgen)undefined[[ -z ${new_id} ]] && new_id_checkBT}-${IP}"undefinedif wget --no-cache --no-check-certificate --max-redirect-qO- "${_checkBT}:8888" >/dev/nulthenundefinedtput cuu1 && tput dl1undefinedmsg -bar3undefinedecho -ne " \e[90m\e[43m CHEK KEY : \033[m"undefinedecho -e " \e[2m ENLAZADA AL GENERADOR\e[0m" | pv -qL 50undefinedtput cuu1 && tput dl1undefinedecho -ne " \033[m ESTATUS : \033[3m"undefinedtput cuu1 && tput dl1undefinedecho -ne "\033[1 [ \e[32m VALIDANDO CONEXION \e[0m \033[34m]\033[0m"undefinedif wget --no-cache --no-check-certificate --max-redirect-O $HOME/lista-arq ${_key}/$_trix/$_sys/${new_id}  &>/dev/null thenundefinedecho -e "\033[34m [ \e[2m DONE \e[0m \033[1]\033[0m"undefinedelseundefinedecho -e "\033[34m [ \e[1m FAIL \e[0m \033[1]\033[0m"undefinedinvalid_key && exitundefinedfiundefinedecho "${new_id}" > /linux-kernelundefined[[ -d /etc/adm-lite/userDIR/ ]] && {undefinedmkdir /USERS &>/dev/nullundefinedmv /etc/adm-lite/userDIR/* /USERS/undefined}undefinedif [ -z "${_checkBT}"  thenundefinedrm -f $HOME/lista*undefinedtput cuu1 && tput dl1undefinedecho -e "\n\e[31mRECHAZADA, POR GENERADOR NO AUTORIZADO!!\e[0m\n" && _sleepColor '\''1'\''undefinedechoundefinedecho -e "\e[mESTE USUARIO NO ESTA AUTORIZADO !!\e[0m" && _sleepColor '\''1'\''undefinedinvalid_key "--ban" $_filtroundefinedexitundefinedtput cuu1 && tput dl1undefinedfiundefinedelseundefinedcase $? inundefined28)undefinedecho -e "\e[m TIEMPO DE CONEXION AGOTADO (28) \e[0m" && sleep 1sundefinedinvalid_key && exitundefinedundefined*)undefinedecho -e "\e[m CONEXION FTP NO ESTABLECIDA (7)\e[0m" && sleep 1sundefinedinvalid_key && exitundefinedundefinedesacundefinedfiundefinedprint_countdown() {undefinedecho -ne "\r REINICIANDO EN : $1 seconds    "undefined}undefinedcountdown() {undefinedlocal second1"undefinedwhile [ "$seconds" -gt 0 doundefinedprint_countdown "$seconds"undefinedsleep 1undefinedsecond$((seconds - 1))undefineddoneundefinedecho -e "\rRESTART complete!         "undefinedsudo rebootundefined}undefinedhelice() {undefineddownloader_files >/dev/null 2>&1 &undefinedtput civisundefinedwhile [ -d /proc/$! oundefinedfor i in / - \\ \doundefinedsleep .1undefinedecho -ne "\e[1D$i"undefineddoneundefineddoneundefinedtput cnormundefined}undefinedsleep 1sundefinedtput cuu1 && tput dl1undefineddownloader_files() {undefined[[ -e $HOME/log.txt ]] && rm -f $HOME/log.txtundefinedlocal _Icryptic_transform "$Key" | grep -vE '\''127\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'' | grep -o -E '\''[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'\'') && echo "$_checkBT" > /usr/bin/vendor_codeundefined[[ ! -d ${SCPinstal} ]] && mkdir ${SCPinstal}undefinedfor arqx in $(cat $HOME/lista-arqdoundefinedwget --no-check-certificate -O ${SCPinstal}/${arqx} ${_checkBT}:81/${uncryp2}/${arqx} > /dev/null 2>&1 && verificar_arq "${arqx}"undefineddoneundefined}undefinedecho -ne "\033[1 COMPILANDO VIA\033[m \033[1HTTPS \033[1 127.0.0.1:81 \033[1.\033[33m.\033[1m. \033[3m"undefinedheliceundefinedecho -e "\e[1DOk"undefinedmsg -bar3undefinedif [[ -e $HOME/lista-arq ]] && [[ ! $(cat $HOME/lista-arq|grep "KEY INVALIDA!") ]thenundefined[[ -e ${SCPdir}/menu ]] && {undefinedecho $clean_input > /etc/cghkeyundefinedclearundefinedrm -f $HOME/log.txtundefined} || {undefinedclear&&clearundefined[[ -d $HOME/locked ]] && rm -rf $HOME/locked/* || mkdir $HOME/lockedundefinedcp -r ${SCPinstal}/* $HOME/locked/undefinedfiglet '\''LOCKED KEY'\'' | boxes -d stone -p a0v0undefined[[ -e $HOME/log.txt ]] && ffat < $HOME/log.txt | wc -l) || fLL'\''undefinedmsg -ne " ${aLerT} "undefinedecho -e "\033[31m [ $ff FILES DE KEY BLOQUEADOS ] " | pv -qL 50 && msg -bar3undefinedecho -e " APAGA TU CORTAFUEGOS O HABILITA PUERTO 81 Y 8888"undefinedecho -e "   ---- AGREGANDO REGLAS AUTOMATICAS ----"undefinedact_ufwundefinedecho -e "   Si esto no funciona PEGA ESTOS COMANDOS  "undefinedecho -e "   sudo ufw allow 81 && sudo ufw allow 8888 "undefinedmsg -bar3undefinedecho -e "             sudo apt purge ufw -y"undefinedinvalid_key && exitundefined}undefined[[ -d /etc/alx ]] || mkdir /etc/alxundefined[[ -e /etc/folteto ]] && rm -f /etc/foltetoundefined[[ -e /bin/ejecutar/IPcgh ]] && rm -f /bin/ejecutar/IPcghundefinedmsg -bar3undefinedfunction_verifyundefinedfun_install "${clean_input}"undefinedelseundefinedinvalid_keyundefinedfiundefinedsudo syncundefinedecho 3 > /proc/sys/vm/drop_cachesundefinedsysctl -w vm.drop_caches /dev/null 2>&1undefined}undefined[[ -e /etc/PACKAGE ]] || update_pakundefinedclear&&clearundefinedrutaSCRIPT ${distro} ${vercion}undefinedrm -f setup* lista*undefined_tem(mktemp)"undefinedchmod +x ${_temp}undefinedfunkeyundefinedtittleundefinedecho -e " TIEMPO DE EJECUCION $((($(date +%s)-$TIME_START)/60)) min."undefinedmsg -bar3undefinedcat <<MENU > ${_temp}undefinedsleep 2sundefinedcd $HOMEundefinedrm -f "${0}" &>/dev/null || trueundefinedif command -v menu >/dev/null 2>&thenundefinedecho -e "\n TIEMPO DE EJECUCION $((($(date +%s)-$TIME_START)/60))"undefinedecho -e "INSTALL COMPLETED! WRITE menu"undefinedelseundefinedecho -e " INSTALACION NO COMPLETADA CON EXITO !"undefinedfiundefinedkill $(ps x | grep setup | grep -v grep| cut -d '\'' '\''  -f3) &>/dev/nullundefinedrm -f setup* lista* &>/dev/nullundefinedexit&&exit&&exitundefinedMENUundefinedtput cuu1 && tput dl1undefinedtput cuu1 && tput dl1undefinedecho -e " ${aLerT} RESTART IS RECOMMENDED TO OPTIMIZE PACKAGES ${aLerT}"undefinedecho -ne " DO YOU WANT TO RESTART?:"undefinedread -p " [Y/N]: " -e -i n racundefined[[ "$rac"@(s|S|y|Y) ]] && {undefinedcountdown 5undefined}undefinedtput cuu1 && tput dl1undefinedtput cuu1 && tput dl1undefinedread -p " $( echo -e "PRESIONA ENTER PARA FINALIZAR INSTALACION \n $(msg -bar3)")"undefined[[ -e "$(which menu)" ]] && bash ${_temp} &undefined[[ -d /USERS ]] && mv /USERS/* /etc/adm-lite/userDIR/ &>/dev/null && rm -rf /USERSundefinedexitundefinedtput cuu1 && tput dl1undefinedtput cuu1 && tput dl1undefined} || {undefinedecho -e " NO SE RECIVIO PARAMETROS "undefinedrm -f setup*undefinedrm -f /etc/foltetoundefinedrm -rf /tmp/*undefinedundefined
